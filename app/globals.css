@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Base variables */
  --background: #ffffff;
  --foreground: #171717;
  
  /* Card and UI variables */
  --card-background: #ffffff;
  --card-foreground: #171717;
  --border: #e2e8f0;
  
  /* Tab colors - light mode */
  --orange-bg-light: #ffedd5;
  --orange-bg-dark: #fdba74;
  --orange-text: #9a3412;
  
  --purple-bg-light: #f3e8ff;
  --purple-bg-dark: #d8b4fe;
  --purple-text: #6b21a8;
  
  --teal-bg-light: #ccfbf1;
  --teal-bg-dark: #5eead4;
  --teal-text: #115e59;
  
  --blue-bg-light: #dbeafe;
  --blue-bg-dark: #93c5fd;
  --blue-text: #1e40af;
  
  --green-bg-light: #dcfce7;
  --green-bg-dark: #86efac;
  --green-text: #14532d;
  
  --indigo-bg-light: #e0e7ff;
  --indigo-bg-dark: #a5b4fc;
  --indigo-text: #3730a3;
  
  --pink-bg-light: #fce7f3;
  --pink-bg-dark: #f9a8d4;
  --pink-text: #831843;
  
  --red-bg-light: #fee2e2;
  --red-bg-dark: #fca5a5;
  --red-text: #7f1d1d;
  
  --yellow-bg-light: #fef9c3;
  --yellow-bg-dark: #fde047;
  --yellow-text: #713f12;
  
  --cyan-bg-light: #cffafe;
  --cyan-bg-dark: #67e8f9;
  --cyan-text: #155e75;
  
  --emerald-bg-light: #d1fae5;
  --emerald-bg-dark: #6ee7b7;
  --emerald-text: #065f46;
  
  --rose-bg-light: #ffe4e6;
  --rose-bg-dark: #fda4af;
  --rose-text: #9f1239;
}

/* System dark mode preference */
@media (prefers-color-scheme: dark) {
  :root {
    /* Base variables */
    --background: #0a0a0a;
    --foreground: #ededed;
    
    /* Card and UI variables */
    --card-background: #171717;
    --card-foreground: #ededed;
    --border: #303030;
    
    /* Tab colors - dark mode */
    --orange-bg-light: #7c2d12;
    --orange-bg-dark: #9a3412;
    --orange-text: #fdba74;
    
    --purple-bg-light: #581c87;
    --purple-bg-dark: #6b21a8;
    --purple-text: #d8b4fe;
    
    --teal-bg-light: #134e4a;
    --teal-bg-dark: #115e59;
    --teal-text: #5eead4;
    
    --blue-bg-light: #1e3a8a;
    --blue-bg-dark: #1e40af;
    --blue-text: #93c5fd;
    
    --green-bg-light: #14532d;
    --green-bg-dark: #166534;
    --green-text: #86efac;
    
    --indigo-bg-light: #312e81;
    --indigo-bg-dark: #3730a3;
    --indigo-text: #a5b4fc;
    
    --pink-bg-light: #831843;
    --pink-bg-dark: #9d174d;
    --pink-text: #f9a8d4;
    
    --red-bg-light: #7f1d1d;
    --red-bg-dark: #991b1b;
    --red-text: #fca5a5;
    
    --yellow-bg-light: #713f12;
    --yellow-bg-dark: #854d0e;
    --yellow-text: #fde047;
    
    --cyan-bg-light: #155e75;
    --cyan-bg-dark: #0e7490;
    --cyan-text: #67e8f9;
    
    --emerald-bg-light: #064e3b;
    --emerald-bg-dark: #065f46;
    --emerald-text: #6ee7b7;
    
    --rose-bg-light: #881337;
    --rose-bg-dark: #9f1239;
    --rose-text: #fda4af;
  }
}

/* Class-based dark mode (when using the toggle) */
.dark {
  /* Base variables */
  --background: #0a0a0a;
  --foreground: #ededed;
  
  /* Card and UI variables */
  --card-background: #171717;
  --card-foreground: #ededed;
  --border: #303030;
  
  /* Tab colors - dark mode */
  --orange-bg-light: #7c2d12;
  --orange-bg-dark: #9a3412;
  --orange-text: #fdba74;
  
  --purple-bg-light: #581c87;
  --purple-bg-dark: #6b21a8;
  --purple-text: #d8b4fe;
  
  --teal-bg-light: #134e4a;
  --teal-bg-dark: #115e59;
  --teal-text: #5eead4;
  
  --blue-bg-light: #1e3a8a;
  --blue-bg-dark: #1e40af;
  --blue-text: #93c5fd;
  
  --green-bg-light: #14532d;
  --green-bg-dark: #166534;
  --green-text: #86efac;
  
  --indigo-bg-light: #312e81;
  --indigo-bg-dark: #3730a3;
  --indigo-text: #a5b4fc;
  
  --pink-bg-light: #831843;
  --pink-bg-dark: #9d174d;
  --pink-text: #f9a8d4;
  
  --red-bg-light: #7f1d1d;
  --red-bg-dark: #991b1b;
  --red-text: #fca5a5;
  
  --yellow-bg-light: #713f12;
  --yellow-bg-dark: #854d0e;
  --yellow-text: #fde047;
  
  --cyan-bg-light: #155e75;
  --cyan-bg-dark: #0e7490;
  --cyan-text: #67e8f9;
  
  --emerald-bg-light: #064e3b;
  --emerald-bg-dark: #065f46;
  --emerald-text: #6ee7b7;
  
  --rose-bg-light: #881337;
  --rose-bg-dark: #9f1239;
  --rose-text: #fda4af;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
  overflow-x: auto; /* Ensure horizontal scrollbar appears when needed */
}

/* Dark mode class-based styles */
/* Tab Background Colors - Using CSS Variables - EXCLUDING gradient classes */
.dark .bg-orange-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--orange-bg-light) !important; }
.dark .bg-orange-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--orange-bg-light) !important; }
.dark .bg-orange-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--orange-bg-dark) !important; }

.dark .bg-purple-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--purple-bg-light) !important; }
.dark .bg-purple-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--purple-bg-light) !important; }
.dark .bg-purple-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--purple-bg-dark) !important; }

.dark .bg-teal-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--teal-bg-light) !important; }
.dark .bg-teal-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--teal-bg-light) !important; }
.dark .bg-teal-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--teal-bg-dark) !important; }

.dark .bg-blue-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--blue-bg-light) !important; }
.dark .bg-blue-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--blue-bg-light) !important; }
.dark .bg-blue-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--blue-bg-dark) !important; }

.dark .bg-green-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--green-bg-light) !important; }
.dark .bg-green-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--green-bg-light) !important; }
.dark .bg-green-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--green-bg-dark) !important; }

.dark .bg-indigo-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--indigo-bg-light) !important; }
.dark .bg-indigo-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--indigo-bg-light) !important; }
.dark .bg-indigo-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--indigo-bg-dark) !important; }

.dark .bg-pink-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--pink-bg-light) !important; }
.dark .bg-pink-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--pink-bg-light) !important; }
.dark .bg-pink-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--pink-bg-dark) !important; }

.dark .bg-red-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--red-bg-light) !important; }
.dark .bg-red-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--red-bg-light) !important; }
.dark .bg-red-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--red-bg-dark) !important; }

.dark .bg-yellow-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--yellow-bg-light) !important; }
.dark .bg-yellow-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--yellow-bg-light) !important; }
.dark .bg-yellow-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--yellow-bg-dark) !important; }

.dark .bg-cyan-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--cyan-bg-light) !important; }
.dark .bg-cyan-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--cyan-bg-light) !important; }
.dark .bg-cyan-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--cyan-bg-dark) !important; }

.dark .bg-emerald-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--emerald-bg-light) !important; }
.dark .bg-emerald-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--emerald-bg-light) !important; }
.dark .bg-emerald-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--emerald-bg-dark) !important; }

.dark .bg-rose-50:not([class*="from-"]):not([class*="to-"]) { background-color: var(--rose-bg-light) !important; }
.dark .bg-rose-100:not([class*="from-"]):not([class*="to-"]) { background-color: var(--rose-bg-light) !important; }
.dark .bg-rose-200:not([class*="from-"]):not([class*="to-"]) { background-color: var(--rose-bg-dark) !important; }

/* Tab Text Colors */
.dark .text-orange-600, .dark .text-orange-700, .dark .text-orange-800 { color: var(--orange-text) !important; }
.dark .text-purple-600, .dark .text-purple-700, .dark .text-purple-800 { color: var(--purple-text) !important; }
.dark .text-teal-600, .dark .text-teal-700, .dark .text-teal-800 { color: var(--teal-text) !important; }
.dark .text-blue-600, .dark .text-blue-700, .dark .text-blue-800 { color: var(--blue-text) !important; }
.dark .text-green-600, .dark .text-green-700, .dark .text-green-800 { color: var(--green-text) !important; }
.dark .text-indigo-600, .dark .text-indigo-700, .dark .text-indigo-800 { color: var(--indigo-text) !important; }
.dark .text-pink-600, .dark .text-pink-700, .dark .text-pink-800 { color: var(--pink-text) !important; }
.dark .text-red-600, .dark .text-red-700, .dark .text-red-800 { color: var(--red-text) !important; }
.dark .text-yellow-600, .dark .text-yellow-700, .dark .text-yellow-800 { color: var(--yellow-text) !important; }
.dark .text-cyan-600, .dark .text-cyan-700, .dark .text-cyan-800 { color: var(--cyan-text) !important; }
.dark .text-emerald-600, .dark .text-emerald-700, .dark .text-emerald-800 { color: var(--emerald-text) !important; }
.dark .text-rose-600, .dark .text-rose-700, .dark .text-rose-800 { color: var(--rose-text) !important; }

/* Card adjustments */
.dark .bg-white {
  background-color: var(--card-background) !important;
}

.dark .border {
  border-color: var(--border) !important;
}

/* Input styles */
.dark input,
.dark select,
.dark textarea {
  background-color: #333;
  color: #f3f4f6;
  border-color: #555;
}

/* Table styles */
.dark table th {
  color: #f3f4f6;
}

.dark table td {
  color: #e5e7eb;
}

/* Year Selector */
.dark .year-selector-sidebar {
  background-color: #222;
  border-color: #444;
}

/* ENHANCED DARK MODE CHART STYLES */
/* Make sure SVG charts are visible in dark mode */
.dark .recharts-surface {
  filter: brightness(1.75) contrast(1.1);
}


/* Make tooltip background darker in dark mode */
.dark .recharts-tooltip-wrapper .recharts-default-tooltip {
  background-color: #1f2937 !important;
  border-color: #374151 !important;
}

.dark .recharts-tooltip-wrapper .recharts-default-tooltip .recharts-tooltip-label {
  color: #f3f4f6 !important;
}

.dark .recharts-tooltip-wrapper .recharts-default-tooltip .recharts-tooltip-item {
  color: #e5e7eb !important;
}


/* Better colors for chart elements in dark mode */
.dark .recharts-pie-sector {
  filter: brightness(1.3);
}

/* Force legend text to use our theme colors instead of auto-generated colors */
.dark .recharts-legend-item-text {
  color: inherit !important;
}

.recharts-legend-item-text {
  color: inherit !important;
}

.dark .recharts-bar-rectangle {
  filter: brightness(1.3);
}

/* Make chart areas more distinct */
.dark .recharts-area {
  filter: brightness(1.3);
}

/* Fix specific elements like the time-of-day, day-of-week, and seasonal section charts */
.dark #timeOfDay .recharts-bar-rectangle,
.dark #dayOfWeek .recharts-bar-rectangle,
.dark #seasonal .recharts-bar-rectangle {
  fill-opacity: 0.9;
}

/* Fix for line charts */
.dark .recharts-line {
  stroke-width: 2.5px;
}

.dark .recharts-line-curve {
  filter: brightness(1.5);
}

/* Fix for active dots in charts */
.dark .recharts-active-dot {
  filter: brightness(1.7);
}



/* Fix loading animation to not change in dark mode */
.dark .animate-rock {
  filter: none; /* Remove the inversion filter */
}

/* Existing animations */
@keyframes rock {
  0%, 100% { transform: rotate(-5deg); }
  50% { transform: rotate(5deg); }
}

.animate-rock {
  animation: rock 1s ease-in-out infinite;
  transform-origin: center bottom;
}

@keyframes rainbow {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}

.animate-rainbow {
  color: #ff0000;
  animation: rainbow 2s linear infinite;
}

/* Desktop scrollbar styling - targeting webkit browsers specifically */
@media (hover: hover) and (pointer: fine) {
  /* Only apply to desktop devices with mouse/trackpad */
  
  ::-webkit-scrollbar {
    display: none; /* Hide scrollbars on desktop like mobile */
  }
}

/* Specific styling for main tabs scrollbar */
.main-tabs-scrollbar::-webkit-scrollbar {
  width: 4px !important;
  height: 4px !important;
}

.main-tabs-scrollbar::-webkit-scrollbar-track {
  background: rgba(243, 244, 246, 0.5) !important;
  border-radius: 8px !important;
}

.main-tabs-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(168, 85, 247, 0.9) !important;
  border-radius: 8px !important;
}

.main-tabs-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(147, 51, 234, 1) !important;
}

/* Dark mode for main tabs scrollbar */
.dark .main-tabs-scrollbar::-webkit-scrollbar-track {
  background: rgba(31, 41, 55, 0.5) !important;
}

.dark .main-tabs-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(124, 58, 237, 0.9) !important;
}

.dark .main-tabs-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(109, 40, 217, 1) !important;
}

/* Mobile and general fallback scrollbar styling */
@media not all and (hover: hover) and (pointer: fine) {
  /* Mobile devices - keep native styling */
  ::-webkit-scrollbar {
    display: none; /* Let mobile use native overlay scrollbars */
  }
}

/* Firefox scrollbar styling */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(168, 85, 247, 0.8) rgba(243, 244, 246, 0.3);
}

.dark * {
  scrollbar-color: rgba(124, 58, 237, 0.8) rgba(31, 41, 55, 0.3);
}

/* Loading animation */
.loading-cake-image {
  mix-blend-mode: multiply;
  filter: brightness(1);
}

/* In dark mode, invert the blend mode strategy */
.dark .loading-cake-image {
  mix-blend-mode: screen; /* 'screen' works better on dark backgrounds */
  filter: brightness(1.5); /* Brighten the image to improve visibility */
}

/* Loading text color in dark mode */
.dark .cakeculating-text {
  color: #60a5fa !important; /* Lighter blue for dark mode */
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

/* Wheel selector gradient overrides for dark mode */
.dark .bg-gradient-to-b.from-teal-50 { background: linear-gradient(to bottom, #134e4a, transparent) !important; }
.dark .bg-gradient-to-t.from-teal-50 { background: linear-gradient(to top, #134e4a, transparent) !important; }
.dark .bg-gradient-to-b.from-purple-50 { background: linear-gradient(to bottom, #581c87, transparent) !important; }
.dark .bg-gradient-to-t.from-purple-50 { background: linear-gradient(to top, #581c87, transparent) !important; }
.dark .bg-gradient-to-b.from-pink-50 { background: linear-gradient(to bottom, #831843, transparent) !important; }
.dark .bg-gradient-to-t.from-pink-50 { background: linear-gradient(to top, #831843, transparent) !important; }
.dark .bg-gradient-to-b.from-blue-50 { background: linear-gradient(to bottom, #1e3a8a, transparent) !important; }
.dark .bg-gradient-to-t.from-blue-50 { background: linear-gradient(to top, #1e3a8a, transparent) !important; }
.dark .bg-gradient-to-b.from-orange-50 { background: linear-gradient(to bottom, #7c2d12, transparent) !important; }
.dark .bg-gradient-to-t.from-orange-50 { background: linear-gradient(to top, #7c2d12, transparent) !important; }
.dark .bg-gradient-to-b.from-indigo-50 { background: linear-gradient(to bottom, #312e81, transparent) !important; }
.dark .bg-gradient-to-t.from-indigo-50 { background: linear-gradient(to top, #312e81, transparent) !important; }
.dark .bg-gradient-to-b.from-green-50 { background: linear-gradient(to bottom, #14532d, transparent) !important; }